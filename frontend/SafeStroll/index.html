<!DOCTYPE html>
<html lang="en">

    <head>
        <title>SafeStroll</title>
        <link rel="shortcut icon" type="image/png" href="./assets/favicon.png" />
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Predicts safe routes for pedestrians using machine learning and data-driven decision making.">
        <meta name="author" content="Michael Inouye's Gamer Squadron">

        <link rel="stylesheet" type="text/css" href="./css/bootstrap-3.3.7-dist/bootstrap.min.css">
        <link rel="stylesheet" type="text/css" href="./css/font-awesome-4.6.3/css/font-awesome.min.css">
        <link href="./css/mdb.min.css" rel="stylesheet">
        <link rel="stylesheet" href="./lib/leaflet/leaflet.css"/>
        <link rel="stylesheet" href="./lib/leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.css" />
        <link rel="stylesheet" type="text/css" href="./css/geosearch.css">
        <link rel="stylesheet" type="text/css" href="./css/styles.css">

        <script src="./js/jquery-3.1.0.min.js" type="text/javascript"></script>
        <script src="./js/tether.min.js" type="text/javascript"></script>
        <script src="./js/bootstrap.min.js" type="text/javascript"></script>
        <script src="./js/mdb.min.js" type="text/javascript"></script>
        <script src="./js/smoothscroll.js" type="text/javascript"></script>
        <script src="./lib/leaflet/leaflet.js"></script>
        <script src="./js/bundle.min.js"></script>
        <script src="./lib/leaflet-routing-machine-3.2.12/dist/leaflet-routing-machine.js"></script>
    </head>

    <body>

        <section id="title">
            <h1 style="text-align:center">SafeStroll</h1>

        </section>

        <section id="">
            <div id="mapid"></div>
            <script>
            
                var mymap = L.map('mapid').setView([32.231553, -110.951820], 15);
            
                L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw', {
                    maxZoom: 18,
                    attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                        '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                        'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                    id: 'mapbox.streets'
                }).addTo(mymap);
            
                L.Routing.control({
                    waypoints: [
                        L.latLng(32.224942, -110.960218),
                        L.latLng(32.235268, -110.965583),
                        L.latLng(32.243745, -110.954520)
                    ]
                }).addTo(mymap);
                
                $origination = $("#origination");
                $destination = $("#destination");
                $button = $("#submit-button")
                $button.click(function(){
                    console.log('clicked')
                    var origin = $origination.attr('data');
                    var dest = $destination.attr('data');

                    //TODO: use geosearch to find lat/long based off of input
                    var requestData = {'origin': [0, 0], 'dest': [0, 0]}
                    var query = $.ajax({
                        data: requestData,
                        contentType: 'application/json'
                    }).always(function(data){
                        console.log(data.responseText);
                    });
                })

                </script>   
        </section>

        <section id="fields">
            <!--<form> -->
                <div class="form-group">
                  <label for="origination">Origination</label>
                  <input type="text" class="form-control" id="origination" aria-describedby="" placeholder="Enter current location">
                </div>
                <div class="form-group">
                  <label for="destination">Destination</label>
                  <input type="text" class="form-control" id="destination" placeholder="Enter destination">
                </div>
                <button type="submit" id="submit-button" class="btn btn-primary">Submit</button>
              <!--</form>-->
        </section>


    </body>

</html>